## Задачки самостоятельной работы 25.03

В каждой из задач описанные операции и/или структуры данных должны быть безопасными для использования в нескольких потоках. Не допускайте потенциальных дедлоков и состояний гонки. 

1. Среднее значение матрицы \
    На вход программе дается число $N \le 10^4$ и матрица $N \times N$ целых чисел, по модулю не превосходящих $10^{10}$. Посчитайте среднее арифметическое всех чисел в матрице, разделяя ее каждый раз на 4 примерно равные части. Вычисление среднего для каждой части должно запускаться в новом потоке. Если получившиеся части достаточно большие, чтобы разделить их, значение для них вычисляется аналогично параллельно (то есть тоже в 4х разных потоках).
2. Читатель и писатель \
    Реализуйте программу, запускающую два потока. Первый из них должен только записывать числа в общее хранилище, а второй только обрабатывать. Для простоты первый поток будет генерировать случайные числа $\le 10^9 + 7$ (с помощью `rand()`), а второй поток -- поддерживать максимум из них. Для каждого добавленного числа второй поток должен ровно один раз вывести максимум из всех полученных чисел и, если новое число изменило максимум, вывести короткое человекочитаемое сообщение об этом на ваш выбор. 
3. User \
    Для хранения данных пользователя используется следующая структура 
    
    ```
        struct User {
            string id;
            string username;
            int balance;
        };
    ```

    `id` -- уникальный идентификатор, присваивается один раз при создании. Баланс и имя пользователя должно быть можно редактировать из разных потоков, кроме того редактирование или чтение одного из них не должно блокировать чтение или редактирование другого. Дополните структуру методами для безопасного чтения и присваивания этих двух полей. \
    Можно добавлять/изменять любое количество полей и заменить структуру на класс (если вам так больше нравится).
4. (*) Связный список \
    Мы обсуждали связный список в контексте написания очереди, но это вполне самостоятельная структура данных. Реализуйте класс/структуру связного списка, в котором можно будет просматривать все элементы и вставлять/удалять по индексу. Также для простоты считаем, что в списке хранятся только целые числа, помещающиеся в `int`. Удаление/добавление не должно блокировать операции с элементами, которые они не затрагивают.

    ```
        class LinkedList {
            public int get(int index);
            public void add(int index, int value);
            public void remove(int index, int value);
        };
    ``` 